from config import HISTORY_CATEGORIES
import logging

logger = logging.getLogger(__name__)

def get_history(category: str) -> str:
    """
    Get historical information about Yaroslavl based on the selected category.
    
    Args:
        category (str): The category of historical information to retrieve
        
    Returns:
        str: Formatted historical information
    """
    try:
        if category not in HISTORY_CATEGORIES:
            return "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑ –º–µ–Ω—é."
            
        history_info = {
            'foundation': """
üè∞ *–û—Å–Ω–æ–≤–∞–Ω–∏–µ –Ø—Ä–æ—Å–ª–∞–≤–ª—è*

–Ø—Ä–æ—Å–ª–∞–≤–ª—å –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω –≤ 1010 –≥–æ–¥—É –∫–Ω—è–∑–µ–º –Ø—Ä–æ—Å–ª–∞–≤–æ–º –ú—É–¥—Ä—ã–º. –°–æ–≥–ª–∞—Å–Ω–æ –ª–µ–≥–µ–Ω–¥–µ, –Ω–∞ –º–µ—Å—Ç–µ –±—É–¥—É—â–µ–≥–æ –≥–æ—Ä–æ–¥–∞ –∫–Ω—è–∑—å —É–±–∏–ª –º–µ–¥–≤–µ–¥—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø–∞–ª –Ω–∞ –Ω–µ–≥–æ. –í –ø–∞–º—è—Ç—å –æ–± —ç—Ç–æ–º —Å–æ–±—ã—Ç–∏–∏ –Ω–∞ –≥–µ—Ä–±–µ –≥–æ—Ä–æ–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω –º–µ–¥–≤–µ–¥—å —Å —Å–µ–∫–∏—Ä–æ–π.

–ì–æ—Ä–æ–¥ –±—ã–ª –∑–∞–ª–æ–∂–µ–Ω –∫–∞–∫ –∫—Ä–µ–ø–æ—Å—Ç—å –Ω–∞ –ø—Ä–∞–≤–æ–º –±–µ—Ä–µ–≥—É –í–æ–ª–≥–∏, –≤ –º–µ—Å—Ç–µ –≤–ø–∞–¥–µ–Ω–∏—è –≤ –Ω–µ—ë —Ä–µ–∫–∏ –ö–æ—Ç–æ—Ä–æ—Å–ª—å. –≠—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª–∏–ª–æ –Ø—Ä–æ—Å–ª–∞–≤–ª—é —Å—Ç–∞—Ç—å –≤–∞–∂–Ω—ã–º —Ç–æ—Ä–≥–æ–≤—ã–º –∏ –æ–±–æ—Ä–æ–Ω–∏—Ç–µ–ª—å–Ω—ã–º –ø—É–Ω–∫—Ç–æ–º.
            """,
            
            'medieval': """
‚öîÔ∏è *–°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥*

–í XII-XIII –≤–µ–∫–∞—Ö –Ø—Ä–æ—Å–ª–∞–≤–ª—å –±—ã–ª —Å—Ç–æ–ª–∏—Ü–µ–π –Ø—Ä–æ—Å–ª–∞–≤—Å–∫–æ–≥–æ –∫–Ω—è–∂–µ—Å—Ç–≤–∞. –í —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥ –≥–æ—Ä–æ–¥ –ø–µ—Ä–µ–∂–∏–ª –º–æ–Ω–≥–æ–ª–æ-—Ç–∞—Ç–∞—Ä—Å–∫–æ–µ –Ω–∞—à–µ—Å—Ç–≤–∏–µ, –Ω–æ —Å—É–º–µ–ª –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ.

–í XV –≤–µ–∫–µ –≥–æ—Ä–æ–¥ –≤–æ—à–µ–ª –≤ —Å–æ—Å—Ç–∞–≤ –ú–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –∫–Ω—è–∂–µ—Å—Ç–≤–∞, —á—Ç–æ —Å–ø–æ—Å–æ–±—Å—Ç–≤–æ–≤–∞–ª–æ –µ–≥–æ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–æ—Å—Ç—É –∫–∞–∫ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∏ —Ä–µ–º–µ—Å–ª–µ–Ω–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞.
            """,
            
            'imperial': """
üëë *–ò–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥*

–í XVIII-XIX –≤–µ–∫–∞—Ö –Ø—Ä–æ—Å–ª–∞–≤–ª—å —Å—Ç–∞–ª –æ–¥–Ω–∏–º –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã—Ö –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ –†–æ—Å—Å–∏–∏. –í –≥–æ—Ä–æ–¥–µ —Ä–∞–∑–≤–∏–≤–∞–ª–æ—Å—å —Ç–µ–∫—Å—Ç–∏–ª—å–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ, –º–µ—Ç–∞–ª–ª–æ–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –¥—Ä—É–≥–∏–µ –æ—Ç—Ä–∞—Å–ª–∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏.

–í 1750 –≥–æ–¥—É –≤ –Ø—Ä–æ—Å–ª–∞–≤–ª–µ –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω –ø–µ—Ä–≤—ã–π –≤ –†–æ—Å—Å–∏–∏ –ø—Ä–æ–≤–∏–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ–∞—Ç—Ä, —á—Ç–æ –ø–æ–ª–æ–∂–∏–ª–æ –Ω–∞—á–∞–ª–æ —Ä–∞–∑–≤–∏—Ç–∏—é —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞ –≤ —Å—Ç—Ä–∞–Ω–µ.
            """,
            
            'soviet': """
üè≠ *–°–æ–≤–µ—Ç—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥*

–í —Å–æ–≤–µ—Ç—Å–∫–∏–π –ø–µ—Ä–∏–æ–¥ –Ø—Ä–æ—Å–ª–∞–≤–ª—å —Å—Ç–∞–ª –∫—Ä—É–ø–Ω—ã–º –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º. –í –≥–æ—Ä–æ–¥–µ –±—ã–ª–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –Ω–æ–≤—ã–µ –∑–∞–≤–æ–¥—ã –∏ —Ñ–∞–±—Ä–∏–∫–∏, —Ä–∞–∑–≤–∏–≤–∞–ª–∞—Å—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

–í 1936 –≥–æ–¥—É –Ø—Ä–æ—Å–ª–∞–≤–ª—å —Å—Ç–∞–ª —Ü–µ–Ω—Ç—Ä–æ–º –Ø—Ä–æ—Å–ª–∞–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏. –í –≥–æ–¥—ã –í–µ–ª–∏–∫–æ–π –û—Ç–µ—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–æ–π–Ω—ã –≥–æ—Ä–æ–¥ –≤–Ω–µ—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –≤–∫–ª–∞–¥ –≤ –ø–æ–±–µ–¥—É, –ø—Ä–æ–∏–∑–≤–æ–¥—è –≤–æ–µ–Ω–Ω—É—é —Ç–µ—Ö–Ω–∏–∫—É –∏ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ.
            """,
            
            'modern': """
üåÜ *–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥*

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –Ø—Ä–æ—Å–ª–∞–≤–ª—å - —ç—Ç–æ –∫—Ä—É–ø–Ω—ã–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π, –Ω–∞—É—á–Ω—ã–π –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–π —Ü–µ–Ω—Ç—Ä –†–æ—Å—Å–∏–∏. –ì–æ—Ä–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ–π –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–±–ª–∏–∫, –ø—Ä–∏ —ç—Ç–æ–º —Ä–∞–∑–≤–∏–≤–∞—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.

–í 2010 –≥–æ–¥—É –Ø—Ä–æ—Å–ª–∞–≤–ª—å –æ—Ç–º–µ—Ç–∏–ª —Å–≤–æ–µ 1000-–ª–µ—Ç–∏–µ. –ì–æ—Ä–æ–¥ –≤–∫–ª—é—á–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ –í—Å–µ–º–∏—Ä–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–∏—è –Æ–ù–ï–°–ö–û –∫–∞–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä.
            """,
            
            'famous_people': """
üë• *–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ª—é–¥–∏*

–Ø—Ä–æ—Å–ª–∞–≤–ª—å —Å–≤—è–∑–∞–Ω —Å –∏–º–µ–Ω–∞–º–∏ –º–Ω–æ–≥–∏—Ö –≤—ã–¥–∞—é—â–∏—Ö—Å—è –¥–µ—è—Ç–µ–ª–µ–π:
‚Ä¢ –§–µ–¥–æ—Ä –í–æ–ª–∫–æ–≤ - –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–≤–æ–≥–æ —Ä—É—Å—Å–∫–æ–≥–æ —Ç–µ–∞—Ç—Ä–∞
‚Ä¢ –ù–∏–∫–æ–ª–∞–π –ù–µ–∫—Ä–∞—Å–æ–≤ - –∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø–æ—ç—Ç
‚Ä¢ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –¢–µ—Ä–µ—à–∫–æ–≤–∞ - –ø–µ—Ä–≤–∞—è –∂–µ–Ω—â–∏–Ω–∞-–∫–æ—Å–º–æ–Ω–∞–≤—Ç
‚Ä¢ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω –£—à–∏–Ω—Å–∫–∏–π - –æ—Å–Ω–æ–≤–æ–ø–æ–ª–æ–∂–Ω–∏–∫ –Ω–∞—É—á–Ω–æ–π –ø–µ–¥–∞–≥–æ–≥–∏–∫–∏
            """,
            
            'traditions': """
üé≠ *–¢—Ä–∞–¥–∏—Ü–∏–∏ –∏ –æ–±—ã—á–∞–∏*

–Ø—Ä–æ—Å–ª–∞–≤–ª—å —Å–ª–∞–≤–∏—Ç—Å—è —Å–≤–æ–∏–º–∏ —Ç—Ä–∞–¥–∏—Ü–∏—è–º–∏:
‚Ä¢ –Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∞—è –º–∞–π–æ–ª–∏–∫–∞ - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∏–¥ –∫–µ—Ä–∞–º–∏–∫–∏
‚Ä¢ –Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∏–µ –∫–æ–ª–æ–∫–æ–ª—å–Ω—ã–µ –∑–≤–æ–Ω—ã
‚Ä¢ –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –Ω–∞—Ä–æ–¥–Ω—ã–µ –ø—Ä–æ–º—ã—Å–ª—ã
‚Ä¢ –§–µ—Å—Ç–∏–≤–∞–ª–∏ –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏, —Å–æ—Ö—Ä–∞–Ω—è—é—â–∏–µ –∫—É–ª—å—Ç—É—Ä–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–∏–µ
            """,
            
            'legends': """
üìö *–õ–µ–≥–µ–Ω–¥—ã –∏ –º–∏—Ñ—ã*

–° –Ø—Ä–æ—Å–ª–∞–≤–ª–µ–º —Å–≤—è–∑–∞–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ª–µ–≥–µ–Ω–¥:
‚Ä¢ –õ–µ–≥–µ–Ω–¥–∞ –æ–± –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –≥–æ—Ä–æ–¥–∞ –∏ –º–µ–¥–≤–µ–¥–µ
‚Ä¢ –ü—Ä–µ–¥–∞–Ω–∏–µ –æ —è—Ä–æ—Å–ª–∞–≤—Å–∫–æ–º –∫–ª–∞–¥–µ
‚Ä¢ –õ–µ–≥–µ–Ω–¥—ã –æ –ø–æ–¥–∑–µ–º–Ω—ã—Ö —Ö–æ–¥–∞—Ö
‚Ä¢ –ú–∏—Ñ—ã –æ –¥—Ä–µ–≤–Ω–∏—Ö —Å–æ–∫—Ä–æ–≤–∏—â–∞—Ö
            """
        }
        
        return history_info.get(category, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –¥–∞–Ω–Ω–æ–º—É —Ä–∞–∑–¥–µ–ª—É –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.")
        
    except Exception as e:
        logger.error(f"Error getting history information: {str(e)}")
        return "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ." 